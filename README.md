This project's intent is to demonstrate the use of Apache NiFi (and NiFi MiNiFi) to collect and make available application and device information.

The containers are pre-configured to run:

1. [Consul](https://www.consul.io) for application and host registration, discovery, and basic health monitoring
2. A basic [Python HTTP server](https://docs.python.org/2/library/simplehttpserver.html)
3. [nmon](http://nmon.sourceforge.net/pmwiki.php) for generating snapshots of host performance and configuration data
4. [Apache NiFi](http://nifi.apache.org/) to gather metadata from Consul, logs from HTTP server, nmon, 'netstat', and 'ps' output

Run containers and start generating data:
```
docker-compose up
```

The NiFi web UI will be available on localhost:8080/nifi and the Consul UI is at localhost:8500/ui

To increase the number of web servers:
```
docker-compose scale web.dev=10
```

Data generated by the containers is saved in the 'data' directory of this project.

Also provided are [Apache Zeppelin](https://zeppelin.apache.org/) notebooks for parsing and analyzing the data collected by NiFi:

In a Zeppelin instance, import the two notebooks in 'zeppelin-notebooks'. Since [Apache Spark](http://spark.apache.org/) doesn't support relative paths, edit the 'fs' value in DeviceRegistry-Setup's first paragraph and point it to the data directory in this project's root.

For example, on my MacBook, the project lives under /Users/randy/demos/techops, thus:
```
val fs = "/Users/randy/demos/TechOps/data"
```

Use Zeppelin's "Run All" feature to run all notes in DeviceRegistry-Setup before you can generate the charts in the DeviceRegistry notebook.

Sample data are provided for convenience in data.tgz. If you don't want to run containers yourself, simply tar -xzvf data.tgz, and the notebooks should be able to consume it.
