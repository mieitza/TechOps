This project's intent is to demonstrate the use of Apache NiFi (and NiFi MiNiFi) to collect and make available application and device information.

The containers are pre-configured to run:

1. [Consul](https://www.consul.io) for application and host registration, discovery, and basic health monitoring
2. A basic [Python HTTP server](https://docs.python.org/2/library/simplehttpserver.html)
3. [nmon](http://nmon.sourceforge.net/pmwiki.php) for generating snapshots of host performance and configuration data
4. [Apache NiFi](http://nifi.apache.org/) and [Apache NiFi subproject MiNiFi](https://nifi.apache.org/minifi/) to gather metadata from Consul, logs from HTTP server, nmon, 'netstat', and 'ps' output
5. [Apache Zeppelin](https://zeppelin.apache.org/) to display a basic operational view of data gathered from containers by NiFi and MiNiFi

Overview Diagram:

![overview](/screenshots/overview.jpg?raw=true)

Run containers and start generating data:
```
docker-compose up
```

Build will likely take 20ish minutes. About 30 seconds after successful start, the following web UIs should be accessible:

1. NiFi at localhost:8080/nifi
2. Consul at localhost:8500/ui
3. Zeppelin at localhost:8081

Data generated by the containers is saved in the 'data' directory of this project.

To increase the number of web servers:
```
docker-compose scale web-service.dev=10
```

If you want to avoid running the full stack, you may use sample data provided for convenience:
```
rm -rf data/
tar -xzvf data.tgz
docker-compose up zeppelin.dev
```

You may then explore the sample data in Zeppelin.

Use Zeppelin's "Run All" feature to run all notes in DeviceRegistry-Setup before you can generate the charts in the DeviceRegistry notebook.

Sample Graphs:

![one](/screenshots/one.png?raw=true)

![two](/screenshots/two.png?raw=true)
